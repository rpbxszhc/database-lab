<center><font face="宋体" size=8 weight=xx><b>学籍管理系统</b></font></center>

### 需求分析

#### 1.学生管理

- 学生信息包括学号（primary）、姓名、密码、头像、性别、所属专业、奖项、惩罚、学业状态、重修机会、生日和入学时间。其中学业状态主要取决于挂科次数，大于等于3次学业状态为“警告”，小于3次为“学业正常”，此外还一个状态为“已毕业”。重修机会初始默认为两次，放弃成绩或退课会使用重修机会。
- 管理员能够对学生信息进行增加、删除、修改和查询操作。其中包含了对学生照片也即图像的管理，具体实现为在数据库中存储图像在本地服务器的地址，而图像实际存储在指定文件夹下。对学生信息的修改可能会需要修改相应的学生选课信息，比如当修改学生学号或删除学生信息时。
- 学生可以查看自己的基本信息，包括头像、个人资料，成绩以及选课信息等。

#### 2.课程管理

- 课程信息包括课程编号（primary）、课程名称、教师、学分、所属专业和学时。

- 管理员能够对课程进行增加、删除、修改和查询操作。同样，当修改课程编号或删除课程信息时会需要修改相应的学生选课信息。
- 学生也能查看所有的课程信息，但是分为两部分，一部分是已选课程，另一部分是未选课程，这是为了方便后续的选课和退课操作。

#### 3.选课管理

- 选课信息包括（课程编号，学号）（primary），成绩（可以为空），以及该学生是否正在重修该课程。
- 管理员能够对选课信息进行增加、删除、修改和查询操作。其中修改操作只能针对成绩和是否正在重修两项进行，因为课程编号和学号依赖于课程信息和学生信息，若要修改需要在课程管理和学生管理中修改。
- 学生能够登陆查看和修改自己的课程信息，包括课程成绩和选课信息。修改主要体现为能够放弃课程，包括已有成绩和未有成绩的课程，两种情况均需使用重修机会。此外还能进行选课，即能选择该学生未在选课信息中出现过的课程，退课和选课成功会增删相应的选课信息。

#### 4.其他

- 除了上述三种信息外，系统还包括了专业信息和学院信息，但二者不是此项目的主要部分，故不支持对二者的增、删、改。但可以通过对学生信息和课程信息的查询间接查询专业信息和学院信息，因为查询学生信息和课程信息时需要与专业信息和学院信息进行连接查询以显示完整的信息。
- 需要能够计算学生的平均成绩进而得出其gpa（算术平均），并显示在学生信息的视图中。
- 在修改学号和课程编号时需要修改对应的选课表，此时需要使用“事务”以保持信息的一致。而删除学生信息和课程信息时可以不使用，因为不会影响数据的完整性和一致性。



### E-R图

![](e-r.svg)